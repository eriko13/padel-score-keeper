<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Padel Score Keeper - quick team setup, live scoring, and history." />
  <title>Padel Score Keeper</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>
  <header class="top-bar">
    <div class="brand" aria-label="Padel Score Keeper">
      <div class="brand-mark" aria-hidden="true">
        <svg viewBox="0 0 64 64" role="img" aria-hidden="true">
          <circle cx="32" cy="32" r="32" class="mark-bg" />
          <circle cx="40" cy="24" r="12" class="mark-ball" />
          <rect x="14" y="14" width="24" height="36" rx="8" class="mark-frame" />
        </svg>
      </div>
      <span class="brand-name">Padel Score Keeper</span>
    </div>
  </header>

  <main id="main">
    <section id="view-home" class="view" data-view="home" tabindex="-1">
      <div class="panel">
        <h1>Set up padel matches fast</h1>
        <p>Generate teams, score live, and keep historyâ€”all in one place.</p>
        <div class="actions">
          <button class="primary" data-view="setup">Create match</button>
          <button class="ghost" data-view="roster">Manage roster</button>
        </div>
      </div>
      <div class="panel" aria-live="polite">
        <div class="panel-header">
          <h2>Recent matches</h2>
          <button class="text" data-action="refresh-history">Refresh</button>
        </div>
        <ul id="recent-matches" class="list"></ul>
      </div>
    </section>

    <section id="view-roster" class="view" data-view="roster" tabindex="-1">
      <div class="panel">
        <h2>Roster</h2>
        <form id="roster-form" class="stack" aria-label="Add player">
          <label class="field">
            <span>Name</span>
            <input id="player-name" name="name" required autocomplete="off" />
          </label>
          <label class="field">
            <span>Rating (optional)</span>
            <input id="player-rating" name="rating" type="number" min="1" max="10" step="0.5" />
          </label>
          <button type="submit" class="primary">Add player</button>
        </form>
      </div>
      <div class="panel">
        <div class="panel-header">
          <h3>Players</h3>
          <div class="badge" id="available-count" aria-live="polite"></div>
        </div>
        <ul id="roster-list" class="list" aria-live="polite"></ul>
      </div>
    </section>

    <section id="view-setup" class="view" data-view="setup" tabindex="-1">
      <div class="panel">
        <h2>Match setup</h2>
        <div class="stack">
          <div class="field">
            <div class="field-label">Format</div>
            <select id="match-format">
              <option value="best-of-3">Best of 3</option>
              <option value="single-set">Single set to 6</option>
            </select>
          </div>
          <div class="field">
            <div class="field-label">Court</div>
            <input id="match-court" placeholder="Court name or number" />
          </div>
          <div class="field checkbox">
            <label>
              <input type="checkbox" id="match-no-ad" />
              <span>No-ad scoring</span>
            </label>
          </div>
          <div class="field">
            <div class="field-label">Available players</div>
            <div id="available-players" class="chips" aria-live="polite"></div>
          </div>
          <div class="actions">
            <button class="secondary" id="generate-teams">Generate teams</button>
            <button class="ghost" id="reset-teams">Reset</button>
          </div>
        </div>
      </div>
      <div class="panel">
        <div class="panel-header">
          <h3>Teams</h3>
          <button class="text" id="regenerate-names">Rename teams</button>
        </div>
        <div id="teams-container" class="grid"></div>
        <div class="actions">
          <button class="primary" id="start-match">Start match</button>
        </div>
      </div>
    </section>

    <section id="view-live" class="view" data-view="live" tabindex="-1">
      <div class="panel">
        <div class="panel-header">
          <h2>Live scoring</h2>
          <div id="live-court" class="badge"></div>
        </div>
        <div class="scoreboard" aria-live="polite">
          <div id="team-a" class="team-card" tabindex="0"></div>
          <div class="score-center">
            <div id="serve-indicator" class="serve-indicator" aria-label="Serve indicator" role="status"></div>
            <div class="set-scores" id="set-scores"></div>
            <div class="controls">
              <button class="primary" data-score="A">+ Point A</button>
              <button class="primary" data-score="B">+ Point B</button>
              <button class="secondary" data-undo>Undo</button>
              <button class="secondary" data-redo>Redo</button>
            </div>
          </div>
          <div id="team-b" class="team-card" tabindex="0"></div>
        </div>
        <div class="actions">
          <button class="ghost" id="end-match">End match</button>
        </div>
      </div>
      <div class="panel">
        <div class="panel-header">
          <h3>Event log</h3>
          <button class="text" id="clear-log">Clear</button>
        </div>
        <ol id="event-log" class="list"></ol>
      </div>
    </section>

    <section id="view-history" class="view" data-view="history" tabindex="-1">
      <div class="panel">
        <div class="panel-header">
          <h2>Match history</h2>
          <div class="actions-inline">
            <button class="text" id="export-csv">Export CSV</button>
            <button class="text" id="copy-summary">Copy summary</button>
          </div>
        </div>
        <div class="field">
          <label>
            <span>Filter by player</span>
            <input id="history-filter" placeholder="Type a name" />
          </label>
        </div>
        <ul id="history-list" class="list" aria-live="polite"></ul>
      </div>
    </section>

  </main>

  <dialog id="modal" aria-label="Modal dialog">
    <div id="modal-body"></div>
    <div class="actions">
      <button class="ghost" id="modal-close">Close</button>
    </div>
  </dialog>

  <template id="chip-template">
    <button class="chip" type="button"></button>
  </template>

  <script type="module" src="./js/ui.js"></script>
</body>
</html>
